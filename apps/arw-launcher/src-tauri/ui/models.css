.models-wrap{
  max-width: 1100px;
  width:100%;
  margin:0 auto;
}
body.has-global-bar .models-wrap{
  padding-top: calc(var(--sp4) + var(--sp3));
}
.models-head{
  display:grid;
  gap: var(--sp2);
}
.models-title{
  display:flex;
  flex-direction:column;
  gap: calc(var(--sp2) / 2);
}
.models-title strong{
  font-size:1.3rem;
}
.models-title p{
  margin:0;
  color: var(--color-muted);
  max-width:60ch;
}
.models-intro{
  margin: calc(-1 * var(--sp2)) 0 var(--sp2);
  max-width:68ch;
}
.models-meta,
.models-actions,
.models-status{
  display:flex;
  flex-wrap:wrap;
  gap: var(--sp2);
  align-items:center;
}
.models-token{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-weight:600;
}
.models-token input{
  font:inherit;
}
.models-status .badges{
  display:flex;
  flex-wrap:wrap;
  gap: var(--sp2);
}
.models-main{
  display:grid;
  gap: var(--sp4);
}
.models-main .card{
  display:grid;
  gap: var(--sp2);
}
.section-head{
  display:flex;
  flex-wrap:wrap;
  gap: var(--sp2);
  align-items:center;
  justify-content:space-between;
}
.section-head h2{
  margin:0;
}
.models-main table{
  width:100%;
  border-collapse:collapse;
}
.models-main th,
.models-main td{
  border-bottom:1px solid var(--color-line);
  padding:6px 8px;
  text-align:left;
}
.mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}
.dim{
  color: var(--color-muted);
}
.ok{ color: var(--status-ok); }
.bad{ color: var(--status-bad); }
.warn{ color: var(--status-warn); }

#admintok{ max-width:240px; }
#concmax{ width:90px; }
#hash-limit{ width:90px; }
#hash-page{ width:80px; }
#durl{ width:360px; }
#dsha{ width:260px; }
#did{ width:200px; }
#mid{ width:240px; }
#mpr{ width:180px; }
#caturl{ width:420px; }

.models-cell{
  display:flex;
  flex-wrap:wrap;
  gap:4px;
  align-items:center;
}
.models-cell button.pill{
  border:1px solid var(--color-line);
  background: linear-gradient(180deg,#ffffff,#f6f7f9);
  padding:4px 8px;
  font-size:0.75rem;
  border-radius:999px;
}
.models-cell button.pill:focus{
  outline:2px solid var(--color-accent-teal-strong);
  outline-offset:1px;
}
.models-cell .models-copy{
  padding:4px 8px;
  font-size:0.75rem;
  border-radius:8px;
}
.status-badge{
  display:inline-flex;
  align-items:center;
  gap:0.35rem;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid var(--color-line);
  background: var(--surface-muted, #f4f4f5);
  font-size:0.75rem;
  line-height:1.4;
  white-space:nowrap;
}
.status-badge.ok{ border-color: var(--status-ok); color: var(--status-ok); }
.status-badge.warn{ border-color: var(--status-warn); color: var(--status-warn); }
.status-badge.bad{ border-color: var(--status-bad); color: var(--status-bad); }
.status-badge.accent{
  border-color: var(--color-accent-teal-strong);
  color: var(--color-accent-teal-strong);
}
.status-dot{
  width:0.55rem;
  height:0.55rem;
  border-radius:50%;
  background:currentColor;
  display:inline-block;
}
.bar{
  height:8px;
  border:1px solid var(--color-line);
  border-radius:8px;
  overflow:hidden;
  margin:4px 0;
}
.bar>i{
  display:block;
  height:8px;
  width:0%;
  background: var(--color-accent-teal);
}
.pill-buttons{
  display:inline-flex;
  gap:4px;
}
.pill-buttons button{
  padding:4px 8px;
  font-size:0.75rem;
}
#ledger-preview{
  margin-top:8px;
  padding:8px 12px;
  border-radius:8px;
  border:1px solid var(--color-line);
  background: var(--surface-muted, #f4f4f5);
  max-height:200px;
  overflow:auto;
  font-size:0.8rem;
}

.scope-table{
  width:100%;
  border-collapse:collapse;
  font-size:0.8rem;
}
.scope-table th,
.scope-table td{
  border-bottom:1px solid var(--color-line);
  padding:6px 8px;
  vertical-align:top;
}
.scope-label{ font-weight:600; }
.scope-status.active{ color: var(--status-ok); }
.scope-status.expired{ color: var(--status-bad); }
.scope-expiry{ font-size:0.75rem; }
.scope-metrics{
  font-size:0.75rem;
  line-height:1.3;
}
.scope-metrics div{
  margin-bottom:2px;
}
.scope-metrics div:last-child{
  margin-bottom:0;
}
.scope-controls{
  display:flex;
  gap:8px;
  align-items:center;
  margin:4px 0 8px;
}
.lease-metrics{
  font-size:0.8rem;
  border:1px solid var(--color-line);
  border-radius:8px;
  padding:8px 12px;
  background:var(--surface-muted, #f6f7f9);
  margin:8px 0;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.lease-metrics-head{
  font-weight:600;
}
.capsule-presets{
  border:1px solid var(--color-line);
  border-radius:12px;
  padding:var(--sp2);
  background:var(--surface-muted, #f6f7f9);
  display:grid;
  gap:var(--sp2);
  margin:8px 0 16px;
}
.capsule-presets-head{
  display:flex;
  flex-wrap:wrap;
  gap:var(--sp2);
  align-items:flex-start;
  justify-content:space-between;
}
.capsule-presets-title{
  margin:0;
  font-size:1rem;
}
.capsule-presets-lead{
  margin:4px 0 0;
  max-width:52ch;
}
.capsule-presets-summary{
  min-height:1.25rem;
}
.capsule-presets-list{
  display:grid;
  gap:var(--sp2);
}
.capsule-presets-status{
  min-height:1.2rem;
}
.capsule-preset{
  display:flex;
  gap:var(--sp2);
  align-items:flex-start;
  border:1px solid var(--color-line);
  border-radius:12px;
  padding:12px 16px;
  background:var(--surface-default, #fff);
  transition:border-color 120ms ease, box-shadow 120ms ease;
}
.capsule-preset.capsule-active{
  border-color:var(--color-accent-teal-strong);
  box-shadow:0 0 0 1px rgba(0, 175, 155, 0.18);
}
.capsule-preset-main{
  flex:1 1 auto;
  display:grid;
  gap:6px;
}
.capsule-preset-title{
  display:flex;
  gap:8px;
  align-items:baseline;
  font-weight:600;
  margin:0;
}
.capsule-preset-badge{
  font-size:0.75rem;
  border-radius:999px;
  padding:2px 8px;
  background:var(--surface-muted, #f2f4f8);
}
.capsule-preset-badge.active{
  color:var(--status-ok);
  background:rgba(0,175,155,0.12);
}
.capsule-preset-badge.off{
  color:var(--color-muted);
}
.capsule-preset-description{
  margin:0;
  color:var(--color-muted);
  font-size:0.85rem;
}
.capsule-preset-status{
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size:0.8rem;
  color:var(--color-muted);
}
.capsule-preset-actions{
  display:flex;
  align-items:center;
}
.capsule-preset-toggle{
  border:1px solid var(--color-line);
  background:linear-gradient(180deg,#ffffff,#f6f7f9);
  border-radius:999px;
  padding:6px 16px;
  font-size:0.85rem;
  cursor:pointer;
}
.capsule-preset-toggle:hover:not(:disabled),
.capsule-preset-toggle:focus-visible{
  border-color:var(--color-accent-teal-strong);
  outline:none;
  box-shadow:0 0 0 2px rgba(0,175,155,0.25);
}
.capsule-preset-toggle[aria-pressed="true"]{
  background:linear-gradient(180deg,rgba(0,175,155,0.12),rgba(0,175,155,0.05));
  border-color:var(--color-accent-teal-strong);
  color:var(--color-accent-teal-strong);
}
.capsule-preset-toggle:disabled{
  opacity:0.6;
  cursor:progress;
}
.scope-controls .pill{
  border-radius:999px;
  padding:6px 12px;
}
.scope-form{
  margin-top:12px;
  padding:12px;
  border:1px solid var(--color-line);
  border-radius:8px;
  background: var(--surface-muted, #f4f4f5);
  font-size:0.85rem;
}
.scope-form.hidden{ display:none; }
.scope-form form{
  display:grid;
  gap:8px;
}
.scope-form label{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.scope-form input,
.scope-form textarea,
.scope-form select{
  padding:6px 8px;
  border:1px solid var(--color-line);
  border-radius:6px;
  font-family:inherit;
  font-size:0.9rem;
}
.scope-form textarea{
  min-height:60px;
  resize:vertical;
}
.scope-form .actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
}
.scope-form .actions button:disabled{
  opacity:0.6;
  cursor:wait;
}
.scope-tag{
  display:inline-flex;
  align-items:center;
  border:1px solid var(--color-accent-teal);
  color: var(--color-accent-teal);
  border-radius:999px;
  padding:2px 8px;
  font-size:0.7rem;
  margin-left:6px;
}

@media (max-width: 720px){
  .models-actions{
    gap: calc(var(--sp2) / 2);
  }
  .models-actions > *{
    flex:1 1 auto;
  }
  .models-status{
    gap: calc(var(--sp2) / 2);
  }
}
