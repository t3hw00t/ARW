---
title: Feature Matrix
---

<!-- generated by scripts/gen_feature_matrix.py; do not edit by hand -->

_Last updated: 2025-09-14T07:03:48Z_

# Feature Matrix

This page is generated from `interfaces/features.json` and validated against code (topics and file paths).

## Model Steward

Manage local models with safe HTTP download, resume, checksum verification, CAS storage, quotas, live progress, metrics, and concurrency controls.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
  - guardrail_gateway
- Single Sources of Truth:
  - `apps/arw-svc/src/resources/models_service.rs`
  - `apps/arw-svc/src/ext/models_api.rs`
  - `apps/arw-svc/src/ext/paths.rs`
  - `apps/arw-svc/src/ext/topics.rs`
- HTTP:
  - `GET /admin/models/summary`
  - `POST /admin/models/download`
  - `POST /admin/models/download/cancel`
  - `POST /admin/models/cas_gc`
  - `GET /admin/models/concurrency`
  - `POST /admin/models/concurrency`
  - `GET /admin/models/jobs`
  - `GET /admin/state/models_metrics`
  - `GET /state/models`
- Read‑models:
  - `models`
  - `models_metrics`
- Events:
  - `models.download.progress`
  - `models.changed`
  - `models.manifest.written`
  - `models.cas.gc`
  - `models.refreshed`
  - `state.read.model.patch`
- Env:
  - `ARW_MODELS_MAX_MB`
  - `ARW_MODELS_DISK_RESERVE_MB`
  - `ARW_MODELS_MAX_CONC`
  - `ARW_MODELS_MAX_CONC_HARD`
  - `ARW_MODELS_QUOTA_MB`
  - `ARW_DL_EWMA_ALPHA`
  - `ARW_DL_MIN_MBPS`

## Event Spine

Unified in-process bus + SSE stream; maintains compact read-models and publishes JSON Patch deltas for low-latency UIs.

- Scope: backend / dev / connectivity / complete
- Owner: platform
- Single Sources of Truth:
  - `apps/arw-svc/src/main.rs`
  - `apps/arw-svc/src/ext/read_model.rs`
  - `apps/arw-svc/src/ext/topics.rs`
- HTTP:
  - `GET /admin/events`
- Read‑models:
  - `models`
  - `models_metrics`
  - `route_stats`
  - `snappy`
- Events:
  - `state.read.model.patch`
- Env:
  - `ARW_BUS_CAP`
  - `ARW_BUS_REPLAY`

## Snappy Governor

Latency budgets and route observability; publishes budgets vs. measured p95 and breach notices.

- Scope: backend / dev / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/stats.rs`
  - `apps/arw-svc/src/ext/snappy.rs`
- HTTP:
  - `GET /metrics`
  - `GET /admin/state/route_stats`
- Read‑models:
  - `route_stats`
  - `snappy`
- Events:
  - `snappy.notice`
  - `snappy.detail`
  - `state.read.model.patch`
- Env:
  - `ARW_SNAPPY_I2F_P95_MS`
  - `ARW_SNAPPY_FIRST_PARTIAL_P95_MS`
  - `ARW_SNAPPY_FULL_RESULT_P95_MS`
  - `ARW_SNAPPY_PUBLISH_MS`

## Tool Forge

Tool registry with schema introspection and an Action Cache (in-memory TTL + CAS) with singleflight.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/tools_exec.rs`
  - `apps/arw-svc/src/ext/tools_api.rs`
- HTTP:
  - `GET /admin/tools`
  - `POST /admin/tools/run`
  - `GET /admin/tools/cache_stats`
- Events:
  - `task.completed`
- Env:
  - `ARW_TOOLS_CACHE_CAP`
  - `ARW_TOOLS_CACHE_TTL_SECS`
  - `ARW_POLICY_VERSION`
  - `ARW_SECRETS_VERSION`

## Chat Workbench

Debug chat UI surface with synthetic replies or llama/OpenAI backends; planner hints, optional self-consistency and verifier (gated).

- Scope: backend / admin / auxiliary / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/chat.rs`
  - `apps/arw-svc/src/ext/chat_api.rs`
- HTTP:
  - `GET /admin/chat`
  - `POST /admin/chat/send`
  - `POST /admin/chat/clear`
  - `GET /admin/chat/status`
- Events:
  - `chat.message`
  - `chat.planner`
  - `chat.probe`
- Env:
  - `ARW_LLAMA_URL`
  - `ARW_OPENAI_API_KEY`
  - `ARW_OPENAI_BASE_URL`
  - `ARW_OPENAI_MODEL`

## Memory Lanes

Local-first memory with lanes (ephemeral/episodic/semantic/procedural), ring limits, and apply/get/save/load endpoints.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/memory.rs`
- HTTP:
  - `GET /admin/memory`
  - `POST /admin/memory/apply`
  - `POST /admin/memory/save`
  - `POST /admin/memory/load`
  - `GET /admin/memory/limit`
  - `POST /admin/memory/limit`
- Events:
  - `memory.applied`
- Env:
  - `ARW_MEM_LIMIT`

## Project Hub Primitives

Projects tree/creation/notes and safe file IO (atomic write, SHA precondition), with audit/events.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/projects.rs`
  - `apps/arw-svc/src/ext/paths.rs`
- HTTP:
  - `GET /admin/projects/list`
  - `POST /admin/projects/create`
  - `GET /admin/projects/tree`
  - `GET /admin/projects/notes`
  - `POST /admin/projects/notes`
  - `GET /admin/projects/file`
  - `POST /admin/projects/file`
  - `POST /admin/projects/patch`
- Events:
  - `projects.created`
  - `projects.file.written`
- Env:
  - `ARW_PROJECTS_DIR`
  - `ARW_PROJECT_MAX_FILE_MB`

## Feedback Loop

Near-live suggestions and policy with persisted state, supporting guidance to improve runs.

- Scope: backend / admin / helpers / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/feedback_engine.rs`
  - `apps/arw-svc/src/ext/feedback_engine_api.rs`
- HTTP:
  - `GET /admin/feedback/suggestions`
  - `GET /admin/feedback/updates`
  - `GET /admin/feedback/policy`
- Events:
  - `feedback.suggested`
  - `feedback.updated`

## Experiment Deck

Define variants, run A/B on goldens, publish results and winner; apply hints.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/experiments_engine.rs`
  - `apps/arw-svc/src/ext/experiments_api.rs`
- HTTP:
  - `POST /experiments/start`
  - `GET /experiments/list`
  - `GET /experiments/winners`
  - `GET /experiments/scoreboard`
  - `POST /experiments/run`
  - `POST /experiments/activate`
- Events:
  - `experiment.result`
  - `experiment.winner`

## Self Card + Forecasts

Per-agent identity and competence, with periodic aggregates for forecasts and resource curves.

- Scope: backend / admin / helpers / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/self_model.rs`
  - `apps/arw-svc/src/ext/self_model_agg.rs`
  - `apps/arw-svc/src/ext/self_model_api.rs`
- HTTP:
  - `GET /state/self`
  - `GET /state/self/:agent`
- Events:
  - `self.model.proposed`
  - `self.model.updated`

## Project Map (World Model)

Observations folded into beliefs/intents/actions and stitched episodes for a scoped project world model.

- Scope: backend / admin / connectivity / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/state_api.rs`
  - `apps/arw-svc/src/ext/world.rs`
- HTTP:
  - `GET /admin/state/observations`
  - `GET /admin/state/beliefs`
  - `GET /admin/state/intents`
  - `GET /admin/state/actions`
  - `GET /admin/state/episodes`
- Events:
  - `world.updated`

## Guardrail Gateway (Policy + Egress)

Ingress/egress policy gating with previews and append-only egress ledger. Full proxy/DNS guard is planned.

- Scope: backend / admin / connectivity / partial
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/io.rs`
  - `apps/arw-svc/src/ext/topics.rs`
  - `docs/architecture/egress_firewall.md`
- Events:
  - `egress.preview`
  - `egress.ledger.appended`
- Env:
  - `ARW_EGRESS_LEDGER_ENABLE`
  - `ARW_NET_POSTURE`

## Orchestrator Plane

Local queue for tasks with optional NATS bridge and background worker(s) for offloads.

- Scope: backend / dev / connectivity / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/mod.rs`
  - `apps/arw-connector/src/main.rs`
- Events:
  - `task.completed`
- Env:
  - `ARW_NATS_URL`
  - `ARW_NODE_ID`
  - `ARW_NATS_OUT`

## Interface Registry & Specs

Descriptors and generated OpenAPI/AsyncAPI/MCP schemas with drift checks and deprecation headers.

- Scope: dev / dev / auxiliary / complete
- Owner: platform
- Single Sources of Truth:
  - `interfaces/index.yaml`
  - `apps/arw-svc/src/main.rs`
- HTTP:
  - `GET /spec/openapi.yaml`
  - `GET /spec/asyncapi.yaml`
  - `GET /spec/mcp-tools.json`
