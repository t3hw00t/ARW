---
title: Feature Matrix
---

<!-- generated by scripts/gen_feature_matrix.py; do not edit by hand -->

_Last updated: 2025-09-15T19:21:23Z_

# Feature Matrix
Updated: 2025-09-15

This page is generated from `interfaces/features.json` and validated against code (topics and file paths).

## Model Steward

Manage local models with safe HTTP download, resume, checksum verification, CAS storage, quotas, live progress, metrics, and concurrency controls.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
  - guardrail_gateway
- Single Sources of Truth:
  - `apps/arw-svc/src/resources/models_service.rs`
  - `apps/arw-svc/src/ext/models_api.rs`
  - `apps/arw-svc/src/ext/paths.rs`
  - `apps/arw-svc/src/ext/topics.rs`
- HTTP:
  - `GET /admin/models/summary`
  - `POST /admin/models/download`
  - `POST /admin/models/download/cancel`
  - `POST /admin/models/cas_gc`
  - `GET /admin/models/concurrency`
  - `POST /admin/models/concurrency`
  - `GET /admin/models/jobs`
  - `GET /admin/state/models_metrics`
  - `GET /state/models`
- Read‑models:
  - `models`
  - `models_metrics`
- Events:
  - `models.download.progress`
  - `models.changed`
  - `models.manifest.written`
  - `models.cas.gc`
  - `models.refreshed`
  - `state.read.model.patch`
- Env:
  - `ARW_MODELS_MAX_MB`
  - `ARW_MODELS_DISK_RESERVE_MB`
  - `ARW_MODELS_MAX_CONC`
  - `ARW_MODELS_MAX_CONC_HARD`
  - `ARW_MODELS_QUOTA_MB`
  - `ARW_DL_EWMA_ALPHA`
  - `ARW_DL_MIN_MBPS`

## Event Spine

Unified in-process bus + SSE stream; maintains compact read-models and publishes JSON Patch deltas for low-latency UIs.

- Scope: backend / dev / connectivity / complete
- Owner: platform
- Single Sources of Truth:
  - `apps/arw-svc/src/main.rs`
  - `apps/arw-svc/src/ext/read_model.rs`
  - `apps/arw-svc/src/ext/topics.rs`
- HTTP:
  - `GET /admin/events`
- Read‑models:
  - `models`
  - `models_metrics`
  - `route_stats`
  - `snappy`
- Events:
  - `state.read.model.patch`
- Env:
  - `ARW_BUS_CAP`
  - `ARW_BUS_REPLAY`

## Snappy Governor

Latency budgets and route observability; publishes budgets vs. measured p95 and breach notices.

- Scope: backend / dev / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/stats.rs`
  - `apps/arw-svc/src/ext/snappy.rs`
- HTTP:
  - `GET /metrics`
  - `GET /admin/state/route_stats`
- Read‑models:
  - `route_stats`
  - `snappy`
- Events:
  - `snappy.notice`
  - `snappy.detail`
  - `state.read.model.patch`
- Env:
  - `ARW_SNAPPY_I2F_P95_MS`
  - `ARW_SNAPPY_FIRST_PARTIAL_P95_MS`
  - `ARW_SNAPPY_FULL_RESULT_P95_MS`
  - `ARW_SNAPPY_PUBLISH_MS`

## Tool Forge

Tool registry with schema introspection and an Action Cache (in-memory TTL + CAS) with singleflight.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/tools_exec.rs`
  - `apps/arw-svc/src/ext/tools_api.rs`
- HTTP:
  - `GET /admin/tools`
  - `POST /admin/tools/run`
  - `GET /admin/tools/cache_stats`
- Events:
  - `task.completed`
- Env:
  - `ARW_TOOLS_CACHE_CAP`
  - `ARW_TOOLS_CACHE_TTL_SECS`
  - `ARW_POLICY_VERSION`
  - `ARW_SECRETS_VERSION`

## Chat Workbench

Debug chat UI surface with synthetic replies or llama/OpenAI backends; planner hints, optional self-consistency and verifier (gated).

- Scope: backend / admin / auxiliary / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/chat.rs`
  - `apps/arw-svc/src/ext/chat_api.rs`
- HTTP:
  - `GET /admin/chat`
  - `POST /admin/chat/send`
  - `POST /admin/chat/clear`
  - `GET /admin/chat/status`
- Events:
  - `chat.message`
  - `chat.planner`
  - `chat.probe`
- Env:
  - `ARW_LLAMA_URL`
  - `ARW_OPENAI_API_KEY`
  - `ARW_OPENAI_BASE_URL`
  - `ARW_OPENAI_MODEL`

## Memory Lanes

Local-first memory with lanes (ephemeral/episodic/semantic/procedural), ring limits, and apply/get/save/load endpoints.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/memory.rs`
- HTTP:
  - `GET /admin/memory`
  - `POST /admin/memory/apply`
  - `POST /admin/memory/save`
  - `POST /admin/memory/load`
  - `GET /admin/memory/limit`
  - `POST /admin/memory/limit`
- Events:
  - `memory.applied`
- Env:
  - `ARW_MEM_LIMIT`

## Project Hub Primitives

Projects tree/creation/notes and safe file IO (atomic write, SHA precondition), with audit/events.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/projects.rs`
  - `apps/arw-svc/src/ext/paths.rs`
- HTTP:
  - `GET /admin/projects/list`
  - `POST /admin/projects/create`
  - `GET /admin/projects/tree`
  - `GET /admin/projects/notes`
  - `POST /admin/projects/notes`
  - `GET /admin/projects/file`
  - `POST /admin/projects/file`
  - `POST /admin/projects/patch`
- Events:
  - `projects.created`
  - `projects.file.written`
- Env:
  - `ARW_PROJECTS_DIR`
  - `ARW_PROJECT_MAX_FILE_MB`

## Feedback Loop

Near-live suggestions and policy with persisted state, supporting guidance to improve runs.

- Scope: backend / admin / helpers / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/feedback_engine.rs`
  - `apps/arw-svc/src/ext/feedback_engine_api.rs`
- HTTP:
  - `GET /admin/feedback/suggestions`
  - `GET /admin/feedback/updates`
  - `GET /admin/feedback/policy`
- Events:
  - `feedback.suggested`
  - `feedback.updated`

## Experiment Deck

Define variants, run A/B on goldens, publish results and winner; apply hints.

- Scope: backend / admin / core / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/experiments_engine.rs`
  - `apps/arw-svc/src/ext/experiments_api.rs`
- HTTP:
  - `POST /experiments/start`
  - `GET /experiments/list`
  - `GET /experiments/winners`
  - `GET /experiments/scoreboard`
  - `POST /experiments/run`
  - `POST /experiments/activate`
- Events:
  - `experiment.result`
  - `experiment.winner`

## Self Card + Forecasts

Per-agent identity and competence, with periodic aggregates for forecasts and resource curves.

- Scope: backend / admin / helpers / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/self_model.rs`
  - `apps/arw-svc/src/ext/self_model_agg.rs`
  - `apps/arw-svc/src/ext/self_model_api.rs`
- HTTP:
  - `GET /state/self`
  - `GET /state/self/:agent`
- Events:
  - `self.model.proposed`
  - `self.model.updated`

## Project Map (World Model)

Observations folded into beliefs/intents/actions and stitched episodes for a scoped project world model.

- Scope: backend / admin / connectivity / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/state_api.rs`
  - `apps/arw-svc/src/ext/world.rs`
- HTTP:
  - `GET /admin/state/observations`
  - `GET /admin/state/beliefs`
  - `GET /admin/state/intents`
  - `GET /admin/state/actions`
  - `GET /admin/state/episodes`
- Events:
  - `world.updated`

## Guardrail Gateway (Policy + Egress)

Ingress/egress policy gating with previews and append-only egress ledger. Full proxy/DNS guard is planned.

- Scope: backend / admin / connectivity / partial
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/io.rs`
  - `apps/arw-svc/src/ext/topics.rs`
  - `docs/architecture/egress_firewall.md`
- Events:
  - `egress.preview`
  - `egress.ledger.appended`
- Env:
  - `ARW_EGRESS_LEDGER_ENABLE`
  - `ARW_NET_POSTURE`

## Orchestrator Plane

Local queue for tasks with optional NATS bridge and background worker(s) for offloads.

- Scope: backend / dev / connectivity / complete
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-svc/src/ext/mod.rs`
  - `apps/arw-connector/src/main.rs`
  - `apps/arw-server/src/api_orchestrator.rs`
- Events:
  - `task.completed`
- Env:
  - `ARW_NATS_URL`
  - `ARW_NODE_ID`
  - `ARW_NATS_OUT`

## Interface Registry & Specs

Descriptors and generated OpenAPI/AsyncAPI/MCP schemas with drift checks and deprecation headers.

- Scope: dev / dev / auxiliary / complete
- Owner: platform
- Single Sources of Truth:
  - `interfaces/index.yaml`
  - `apps/arw-svc/src/main.rs`
  - `apps/arw-server/src/api_spec.rs`
- HTTP:
  - `GET /spec/openapi.yaml`
  - `GET /spec/asyncapi.yaml`
  - `GET /spec/mcp-tools.json`

## Triad Kernel & Unified API

Journal-backed actions/events/state plane with SSE replay, contributions ledger, and discoverable metadata for the new server.

- Scope: backend / dev / core / beta
- Owner: platform
- Depends on:
  - event_spine
- Single Sources of Truth:
  - `apps/arw-server/src/main.rs`
  - `apps/arw-server/src/api_actions.rs`
  - `apps/arw-server/src/api_events.rs`
  - `apps/arw-server/src/api_state.rs`
  - `crates/arw-kernel/src/lib.rs`
- HTTP:
  - `POST /actions`
  - `GET /actions/:id`
  - `POST /actions/:id/state`
  - `GET /events`
  - `GET /state/episodes`
  - `GET /state/actions`
  - `GET /state/contributions`
  - `GET /state/route_stats`
  - `GET /healthz`
  - `GET /about`
- Events:
  - `actions.submitted`
  - `actions.running`
  - `actions.completed`
  - `actions.failed`
- Env:
  - `ARW_ACTIONS_QUEUE_MAX`
  - `ARW_STATE_DIR`
  - `ARW_PORT`
  - `ARW_BIND`
  - `ARW_PERF_PRESET`
  - `ARW_HTTP_MAX_CONC`

## Policy & Lease Facade

ABAC facade with hot reloadable policies, lease issuance, and decision telemetry for capability-gated actions.

- Scope: backend / admin / security / beta
- Owner: platform
- Depends on:
  - triad_kernel
- Single Sources of Truth:
  - `apps/arw-server/src/api_policy.rs`
  - `apps/arw-server/src/api_leases.rs`
  - `crates/arw-policy/src/lib.rs`
- HTTP:
  - `GET /state/policy`
  - `POST /policy/reload`
  - `POST /policy/simulate`
  - `POST /leases`
  - `GET /state/leases`
- Events:
  - `policy.decision`
  - `policy.reloaded`
- Env:
  - `ARW_POLICY_FILE`
  - `ARW_SECURITY_POSTURE`

## Egress Sentinel

Preview-first egress guard with allowlists, IP/DNS defenses, ledger logging, and runtime posture controls.

- Scope: backend / admin / security / beta
- Owner: platform
- Depends on:
  - policy_leases
- Single Sources of Truth:
  - `apps/arw-server/src/api_egress.rs`
  - `apps/arw-server/src/api_egress_settings.rs`
  - `apps/arw-server/src/egress_proxy.rs`
- HTTP:
  - `POST /egress/preview`
  - `POST /egress/settings`
  - `GET /state/egress`
  - `GET /state/egress/settings`
- Events:
  - `egress.ledger.appended`
  - `egress.settings.updated`
- Env:
  - `ARW_NET_POSTURE`
  - `ARW_SECURITY_POSTURE`
  - `ARW_NET_ALLOWLIST`
  - `ARW_EGRESS_BLOCK_IP_LITERALS`
  - `ARW_DNS_GUARD_ENABLE`
  - `ARW_EGRESS_PROXY_ENABLE`
  - `ARW_EGRESS_PROXY_PORT`
  - `ARW_EGRESS_LEDGER_ENABLE`

## Working Set Builder

Hybrid retrieval with coverage loops, streaming diagnostics, and on-demand rehydrate for just-in-time context.

- Scope: backend / builder / intelligence / beta
- Owner: platform
- Depends on:
  - triad_kernel
- Single Sources of Truth:
  - `apps/arw-server/src/api_context.rs`
  - `apps/arw-server/src/working_set.rs`
  - `apps/arw-server/src/coverage.rs`
- HTTP:
  - `POST /context/assemble`
  - `POST /context/rehydrate`
- Events:
  - `working_set.started`
  - `working_set.seed`
  - `working_set.expanded`
  - `working_set.expand_query`
  - `working_set.selected`
  - `working_set.completed`
  - `working_set.iteration.summary`
  - `working_set.error`
- Env:
  - `ARW_CONTEXT_LANES_DEFAULT`
  - `ARW_CONTEXT_K`
  - `ARW_CONTEXT_EXPAND_PER_SEED`
  - `ARW_CONTEXT_DIVERSITY_LAMBDA`
  - `ARW_CONTEXT_MIN_SCORE`
  - `ARW_CONTEXT_LANE_BONUS`
  - `ARW_CONTEXT_EXPAND_QUERY`
  - `ARW_CONTEXT_EXPAND_QUERY_TOP_K`
  - `ARW_CONTEXT_SCORER`
  - `ARW_CONTEXT_COVERAGE_MAX_ITERS`
  - `ARW_CONTEXT_STREAM_DEFAULT`

## Memory Atlas

Kernel-backed memory API with hybrid search, embeddings, and coherent selections for durable knowledge.

- Scope: backend / builder / intelligence / beta
- Owner: platform
- Depends on:
  - triad_kernel
- Single Sources of Truth:
  - `apps/arw-server/src/api_memory.rs`
  - `crates/arw-kernel/src/lib.rs`
- HTTP:
  - `POST /memory/put`
  - `GET /state/memory/select`
  - `POST /memory/search_embed`
  - `POST /state/memory/select_hybrid`
  - `POST /memory/select_coherent`
  - `POST /state/memory/explain_coherent`
  - `GET /state/memory/recent`
  - `POST /memory/link`
  - `GET /state/memory/links`
- Events:
  - `memory.record.put`
  - `memory.link.put`

## Config Plane

Schema-aware config snapshots, diffable patches, and validation helpers for runtime tuning.

- Scope: backend / admin / core / beta
- Owner: platform
- Depends on:
  - triad_kernel
- Single Sources of Truth:
  - `apps/arw-server/src/api_config.rs`
- HTTP:
  - `GET /state/config`
  - `GET /state/config/snapshots`
  - `GET /state/config/snapshots/:id`
  - `POST /patch/apply`
  - `POST /patch/revert`
  - `POST /patch/validate`
  - `GET /state/schema_map`
  - `POST /patch/infer_schema`
- Events:
  - `config.patch.applied`
  - `logic.unit.reverted`
- Env:
  - `ARW_SCHEMA_MAP`

## Logic Units Library

Declarative strategy packs with install/apply/revert flows, schema validation, and audit trails.

- Scope: backend / admin / core / beta
- Owner: platform
- Depends on:
  - config_plane
- Single Sources of Truth:
  - `apps/arw-server/src/api_logic_units.rs`
  - `apps/arw-server/src/api_config.rs`
  - `spec/schemas/logic_unit_manifest.json`
- HTTP:
  - `GET /logic-units`
  - `GET /state/logic_units`
  - `POST /logic-units/install`
  - `POST /logic-units/apply`
  - `POST /logic-units/revert`
- Events:
  - `logic.unit.installed`
  - `logic.unit.applied`
  - `logic.unit.reverted`
  - `config.patch.applied`
- Env:
  - `ARW_SCHEMA_MAP`

## Connectors Registry

Connector manifests with scoped tokens, audit-friendly storage, and events for cloud/local integrations.

- Scope: backend / admin / connectivity / beta
- Owner: platform
- Depends on:
  - policy_leases
  - egress_sentinel
- Single Sources of Truth:
  - `apps/arw-server/src/api_connectors.rs`
- HTTP:
  - `GET /state/connectors`
  - `POST /connectors/register`
  - `POST /connectors/token`
- Events:
  - `connectors.registered`
  - `connectors.token.updated`
- Env:
  - `ARW_STATE_DIR`

## WASI Tool Host

Embeddable WASI host with http.fetch, connector token injection, and policy-aware allowlists for future plugins.

- Scope: runtime / dev / core / alpha
- Owner: platform
- Depends on:
  - egress_sentinel
- Single Sources of Truth:
  - `crates/arw-wasi/src/lib.rs`
  - `apps/arw-server/src/main.rs`
- Events:
  - `egress.ledger.appended`
- Env:
  - `ARW_HTTP_TIMEOUT_SECS`
  - `ARW_EGRESS_PROXY_ENABLE`
  - `ARW_EGRESS_PROXY_PORT`
  - `ARW_NET_ALLOWLIST`
  - `ARW_EGRESS_BLOCK_IP_LITERALS`
  - `ARW_DNS_GUARD_ENABLE`
  - `ARW_STATE_DIR`
