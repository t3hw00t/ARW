# Service (unified server default)
# Use 8091 for arw-server
ARW_PORT=8091
ARW_BIND=127.0.0.1
ARW_DEBUG=0
# Required when ARW_BIND is not loopback; set to a strong secret
ARW_ADMIN_TOKEN=change-me
ARW_TRUST_FORWARD_HEADERS=0
ARW_ACCESS_LOG=0
ARW_ACCESS_SAMPLE_N=1
ARW_ACCESS_UA=0
ARW_ACCESS_UA_HASH=0
ARW_ACCESS_REF=0
ARW_ACCESS_REF_STRIP_QS=1
ARW_CSP_AUTO=1
# ARW_CSP_PRESET=relaxed   # or 'strict'
# ARW_CSP=                  # explicit CSP header value (overrides preset/auto)

# Rolling access logs (http.access target)
ARW_ACCESS_LOG_ROLL=0
# Directory and file prefix (file names include rotation timestamp)
# Defaults: ARW_ACCESS_LOG_DIR=${ARW_LOGS_DIR:-./logs}, ARW_ACCESS_LOG_PREFIX=http-access
# Rotation: daily|hourly|minutely
ARW_ACCESS_LOG_DIR=
ARW_ACCESS_LOG_PREFIX=
ARW_ACCESS_LOG_ROTATION=daily

# NATS / clustering (optional)
ARW_NATS_URL=nats://127.0.0.1:4222
ARW_NODE_ID=local
ARW_GROUP=workers

# Docs URL (optional)
ARW_DOCS_URL=

# gRPC (optional)
ARW_GRPC=0
ARW_GRPC_ADDR=[::1]:50051

# Models & Downloads (optional)
# Caps and limits
# ARW_MODELS_MAX_MB=4096
# ARW_MODELS_DISK_RESERVE_MB=256
# ARW_MODELS_MAX_CONC=2
# ARW_MODELS_QUOTA_MB=

# Budgets (ms)
# ARW_BUDGET_DOWNLOAD_SOFT_MS=
# ARW_BUDGET_DOWNLOAD_HARD_MS=
# ARW_BUDGET_SOFT_DEGRADE_PCT=80

# Downloader tuning
# ARW_DL_MIN_MBPS=2.0
# ARW_DL_SEND_RETRIES=2
# ARW_DL_STREAM_RETRIES=2
# ARW_DL_IDLE_TIMEOUT_SECS=300
# ARW_DL_EWMA_ALPHA=0.3
# ARW_DL_PREFLIGHT=1
# HTTP client (downloads)
# ARW_DL_HTTP_KEEPALIVE_SECS=60
# ARW_DL_HTTP_POOL_IDLE_SECS=90
# ARW_DL_HTTP_POOL_MAX_IDLE_PER_HOST=8
# Progress payload enrichers
# ARW_DL_PROGRESS_INCLUDE_BUDGET=1
# ARW_DL_PROGRESS_INCLUDE_DISK=1

# Guardrails (optional)
# ARW_GUARDRAILS_URL=https://guardrails.example
# ARW_GUARDRAILS_TIMEOUT_MS=3000
# ARW_GUARDRAILS_RETRIES=2
# ARW_GUARDRAILS_CB_THRESHOLD=5
# ARW_GUARDRAILS_CB_COOLDOWN_MS=30000

# SQLite tuning (optional)
# ARW_SQLITE_BUSY_MS=5000
# ARW_SQLITE_CACHE_PAGES=-20000   # negative => KB pages (~20MB)
# ARW_SQLITE_MMAP_MB=128
# OCR / screenshots (optional overrides)
# ARW_OCR_BACKEND=legacy            # legacy | vision_compression
# ARW_OCR_QUALITY=balanced          # lite | balanced | full
# ARW_OCR_PREFER_LOW_POWER=0
# ARW_OCR_REFRESH_CAPABILITIES=0
# ARW_OCR_COMPRESSION_ENDPOINT=http://127.0.0.1:8088/v1/ocr
# ARW_OCR_COMPRESSION_TIMEOUT_SECS=180
# ARW_OCR_DECODER_GPUS=
# ARW_OCR_DECODER_CAPACITY=
# ARW_OCR_GPU_VRAM_MB=
